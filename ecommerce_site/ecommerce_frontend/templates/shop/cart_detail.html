{% extends 'base.html' %}


{% block content %}


<h1>Your Shopping Cart</h1>


{% if cart_items %}
<table>
  <tr>
    <th>Product</th>
    <th>Quantity</th>
    <th>Subtotal</th>
    <th>Actions</th>
  </tr>
 
  {% for item in cart_items %}
  <tr>
    <td>{{ item.product.name }}</td>
    
    <td>
      <form action="{% url 'update_cart_item' item.id %}" method="post">
        {% csrf_token %}
        <input type="number" name="quantity" value="{{ item.quantity }}" min="1">
        <button type="submit">Update</button>
      </form>
    </td>
    <td>${{ item.get_subtotal }}</td>
    <td>
      <a href="{% url 'remove_cart_item' item.id %}">Remove</a>
    </td>
  </tr>
  {% endfor %}
</table>

<p>Total: ${{ total }}</p>



{% else %}
<p>Your cart is empty.</p>


{% endif %}


{% endblock %}
